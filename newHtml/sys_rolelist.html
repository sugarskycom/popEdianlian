<!DOCTYPE html><html lang="zh"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><link type="text/css" rel="stylesheet" href="/css/index.css" /><link href="/css/b2bmain.min.css" rel="stylesheet" /><link href="/css/bootstrap1.min.css" rel="stylesheet" /><link href="/css/font-awesome.min93e3.css" rel="stylesheet" /><link href="/css/plugins/iCheck/custom.css" rel="stylesheet" /><style type="text/css">.alert {padding: 8px 35px 8px 14px;margin-bottom: 18px;text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);background-color: #fcf8e3;border: 1px solid #fbeed5;-webkit-border-radius: 4px;-moz-border-radius: 4px;border-radius: 4px;}.alert-danger, .alert-error {background-color: #f2dede;border-color: #eed3d7;}.alert-danger,.alert-error,.alert-danger .alert-heading,.alert-error .alert-heading {color: #b94a48;}#EditPwdModelDlg input {box-sizing: border-box;}</style><title>角色管理</title><link href="/css/b2bmain.min.css" rel="stylesheet" /><link href="/css/bootstrap.min.css" rel="stylesheet" /><link href="/css/font-awesome.min93e3.css" rel="stylesheet" /><link href="/css/plugins/iCheck/custom.css" rel="stylesheet" /><style type="text/css">.alert {padding: 8px 35px 8px 14px;margin-bottom: 18px;text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);background-color: #fcf8e3;border: 1px solid #fbeed5;-webkit-border-radius: 4px;-moz-border-radius: 4px;border-radius: 4px;}.alert-danger, .alert-error {background-color: #f2dede;border-color: #eed3d7;}.alert-danger,.alert-error,.alert-danger .alert-heading,.alert-error .alert-heading {color: #b94a48;}</style><script type="text/javascript"><!--var siteType = "notset";//--></script><script type="text/javascript">document.write('<scr' + 'ipt src="/js/jquery.js?version=1.0.9.6.js" type="text/javascript"></scr' + 'ipt>');</script><script type="text/javascript">document.write('<scr' + 'ipt src="/js/AJAXFrameNew.js?version=1.0.9.6.js" type="text/javascript"></scr' + 'ipt>');</script><script type="text/javascript">document.write('<scr' + 'ipt src="/js/Common.js?version=1.0.9.6.js" type="text/javascript"></scr' + 'ipt>');</script><script type="text/javascript">document.write('<scr' + 'ipt src="/foreground/js/My97DatePicker/WdatePicker.js?version=1.0.9.6.js" type="text/javascript"></scr' + 'ipt>');</script><script type="text/javascript">document.write('<scr' + 'ipt src="/foreground/js/zjcommon.js?version=1.0.9.6.js" type="text/javascript"></scr' + 'ipt>');</script><script type="text/javascript">document.write('<scr' + 'ipt src="/js/common/cartTemplate.js?version=1.0.9.6.js" type="text/javascript"></scr' + 'ipt>');</script><script type="text/javascript">document.write('<scr' + 'ipt src="/js/common/validateData.js?version=1.0.9.6.js" type="text/javascript"></scr' + 'ipt>');</script><script type="text/javascript">document.write('<scr' + 'ipt src="/js/sys/rolelist.js?version=1.0.9.6.js" type="text/javascript"></scr' + 'ipt>');</script><script type="text/javascript">var listControl = {"GetList": function(param0, clientCallBack) {return AJAXFrame.Ajax.callBack('BizControls.sys.RoleListControl', 'GetList', [param0], clientCallBack, '/sys/rolelist?Ajax_CallBack=true', 'post', '6000');},"Add": function(param0, param1, clientCallBack) {return AJAXFrame.Ajax.callBack('BizControls.sys.RoleListControl', 'Add', [param0,param1], clientCallBack, '/sys/rolelist?Ajax_CallBack=true', 'post', '6000');},"Edit": function(param0, param1, param2, clientCallBack) {return AJAXFrame.Ajax.callBack('BizControls.sys.RoleListControl', 'Edit', [param0,param1,param2], clientCallBack, '/sys/rolelist?Ajax_CallBack=true', 'post', '6000');},"Del": function(param0, clientCallBack) {return AJAXFrame.Ajax.callBack('BizControls.sys.RoleListControl', 'Del', [param0], clientCallBack, '/sys/rolelist?Ajax_CallBack=true', 'post', '6000');},"GetModulePermissionList": function(param0, clientCallBack) {return AJAXFrame.Ajax.callBack('BizControls.sys.RoleListControl', 'GetModulePermissionList', [param0], clientCallBack, '/sys/rolelist?Ajax_CallBack=true', 'post', '6000');},"AddRolePermission": function(param0, param1, clientCallBack) {return AJAXFrame.Ajax.callBack('BizControls.sys.RoleListControl', 'AddRolePermission', [param0,param1], clientCallBack, '/sys/rolelist?Ajax_CallBack=true', 'post', '6000');}};</script><script src="/js/plugins/iCheck/icheck.min.js"></script><script type="text/javascript" src="/js/lcs.js"></script><script type="text/javascript">$(document).ready(function (e) {nav();var w = $(window).width();var wn = $(".t-box").width();var ww = (w - wn - 60) / 2;$(".t-box").css("top", '180px');$(".t-box").css("right", ww);});function editpwd() {if ($.trim($("#txtOldPwd").val()) == "") {$(".alert-error").show().html("原始密码不能为空！");$("#txtOldPwd").select();return;}if ($.trim($("#txtNewPwd").val()) == "") {$(".alert-error").show().html("新密码为空！");$("#txtNewPwd").select();return;}if (!checkPassStrong($.trim($("#txtNewPwd").val()))) {$(".alert-error").show().html("新密码必须包含大小写、数字和特殊字符组成，且长度最短为8位！");$("#txtNewPwd").select();return;}if ($.trim($("#txtNewConfirmPwd").val()) == "") {$(".alert-error").show().html("确认新密码为空！");$("#txtNewConfirmPwd").select();return;}if ($.trim($("#txtNewPwd").val()) != $.trim($("#txtNewConfirmPwd").val())) {$(".alert-error").show().html("新密码和确认新密码不一致！");return;}baseControl.EditPWD($.trim($("#txtOldPwd").val()), $.trim($("#txtNewPwd").val()), function (data) {if (data.value == "") {$(".alert-error").show().html("密码修改成功！");}else$(".alert-error").show().html(data.value);});}function checkPassStrong(str) {if (str.length < 8) {return false;}var containDigit = RegExp(/[\d]+/).test(str);var containLowerLetters = RegExp(/[a-z]+/).test(str);var containUpperLetters = RegExp(/[A-Z]+/).test(str);var containerOtherChars = RegExp(/[!@#$%^&*(),.'{}]+/).test(str);if (containDigit && containLowerLetters && containUpperLetters && containerOtherChars) {return true;} else {return false;}}function showDlg() {$(".alert-error").hide();$("#txtOldPwd").val("");$("#txtNewPwd").val("");$("#txtNewConfirmPwd").val("");$('#EditPwdModelDlg').show();}function closeDlg() {$('#EditPwdModelDlg').hide();}</script></head><body><!--head start--><div class="head" id="header"><div class="logo"><a href="/"></a></div><ul class="top-nav"><!--<li>订单管理</li><li>仓储管理</li><li>物流管理</li><li>金融管理</li><li>对账管理</li><li>系统管理</li>--></ul><div class="user"><span class="hd-img"><img src="/images/h-img.jpg" width="40" height="40" alt="用户人头像" /></span><em class="u-name">培训测试公司</em><span class="bk u-icon"></span><ul class="user-list"><!--<li><span class="grxx"></span><em>个人信息</em></li><li><span class="zhgl"></span><em>账号管理</em></li><li><span class="gxsz"></span><em>个性化设置</em></li>--><li onclick="showDlg()"><span class="zhgl"></span><em>修改密码</em></li><li id="spanUnLogin"><span class="tc"></span><em>退出</em></li></ul><span class="ls-sj"></span></div><!--<div class="message"><span class="bk ms-icon">20</span></div>--></div><!--nav end--><!--nav start--><!--<div class="nav"><div class="home"><a href="/storage/index"><span class="bk h-icon"></span>首页</a></div></div>--><!--nav end--><!--cont start--><div class="cont"><!--left-nav start--><div class="left-nav"><ul class="lfnav1"><li><h3><span class='icon-7'></span><em>订单管理</em><span class='icon-j'></span></h3><ul class='lfnav2' style='display: none;'><li><h4><span class='icon-j2'></span><em><a data-menuid='10' class='cur' sign='10' href='/order/list'>订单管理</a></em></h4></li><li><h4><span class='icon-j2'></span><em><a data-menuid='9' class='cur' sign='9' href='/order/edit'>新建订单</a></em></h4></li><li><h4><span class='icon-j2'></span><em><a data-menuid='15' class='cur' sign='15' href='/order/out'>订单出库</a></em></h4></li><li><h4><span class='icon-j2'></span><em><a data-menuid='16' class='cur' sign='16' href='/order/send'>订单发货</a></em></h4></li></ul></li><li><h3><span class='icon-17'></span><em>仓储管理</em><span class='icon-j'></span></h3><ul class='lfnav2' style='display: none;'><li><h4><span class='icon-j2'></span><em><a data-menuid='32' class='cur' sign='32' href='/storage/planedit'>申请预约入库</a></em></h4></li><li><h4><span class='icon-j2'></span><em><a data-menuid='21' class='cur' sign='21' href='/storage/planlist'>预约入库列表</a></em></h4></li><li><h4><span class='icon-j2'></span><em><a data-menuid='22' class='cur' sign='22' href='/storage/innerlist'>入库管理</a></em></h4></li><li><h4><span class='icon-j2'></span><em><a data-menuid='23' class='cur' sign='23' href='/storage/returnlist'>销退入库</a></em></h4></li><li><h4><span class='icon-j2'></span><em><a data-menuid='20' class='cur' sign='20' href='/storage/storage'>库存管理</a></em></h4></li><li><h4><span class='icon-j2'></span><em><a data-menuid='18' class='cur' sign='18' href='/storage/renlist'>租仓管理</a></em></h4></li><li><h4><span class='icon-j2'></span><em><a data-menuid='19' class='cur' sign='19' href='/storage/adjlist'>升降单</a></em></h4></li></ul></li><li><h3><span class='icon-24'></span><em>物流管理</em><span class='icon-j'></span></h3><ul class='lfnav2' style='display: none;'><li><h4><span class='icon-j2'></span><em><a data-menuid='26' class='cur' sign='26' href='/storage/vehlist'>车辆发货单</a></em></h4></li></ul></li><li><h3><span class='icon-25'></span><em>金融管理</em><span class='icon-j'></span></h3><ul class='lfnav2' style='display: none;'><li><h4><span class='icon-j2'></span><em><a target='_blank' href='http://test.ht.edianlian.com/Api/myfreeze'>质押单</a></em></h4></li><li><h4><span class='icon-j2'></span><em><a target='_blank' href='http://test.ht.edianlian.com/Api/myunfreeze'>解冻单</a></em></h4></li><li><h4><span class='icon-j2'></span><em><a target='_blank' href='http://test.ht.edianlian.com/Api/myexchange'>置换单</a></em></h4></li></ul></li><li><h3><span class='icon-30'></span><em>对账管理</em><span class='icon-j'></span></h3><ul class='lfnav2' style='display: none;'><li><h4><span class='icon-j2'></span><em><a data-menuid='31' class='cur' sign='31' href='/storage/stalist'>租赁对账单</a></em></h4></li><li><h4><span class='icon-j2'></span><em><a data-menuid='34' class='cur' sign='34' href='/storage/vtmslist'>物流对账单</a></em></h4></li></ul></li><li><h3><span class='icon-8'></span><em>系统管理</em><span class='icon-j'></span></h3><ul class='lfnav2' style='display: none;'><li><h4><span class='icon-j2'></span><em><a data-menuid='13' class='cur' sign='13' href='/sys/rolelist'>角色管理</a></em></h4></li><li><h4><span class='icon-j2'></span><em><a data-menuid='11' class='cur' sign='11' href='/sys/userlist'>用户管理</a></em></h4></li></ul></li></ul></div><!--left-nav end--><!--right-cont start--><div class="right-cont"><div class="list-wrap" style="padding-top:0;"><div class="list-title"><dl><dt><span class="icon-jc"></span>系统管理&nbsp;>&nbsp;</dt><dd>角色管理</dd></dl></div><!--list-cont start--><div class="list-cont" style="padding-top:0;"><div class="col-lg-9"><div class="container-fluid"><h5><a href="javascript:void(0)" onclick="rolelist.showDlg()" class="btn btn-default btn-add">添加角色</a></h5><p id="pData"><span id="sData"></span></p><table id="ttData" class="table table-bordered"></table><div id="divPage"></div></div></div><div style="display:none;" id="ModelDlg" class="modal fade in"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" onclick="rolelist.closeDlg()" class="close"><span aria-hidden="true">×</span></button><h4 id="title-type">添加角色</h4></div><div class="modal-body"><div class="form-horizontal m-t"><div class="form-group"><label class="col-sm-2 control-label">角色名称</label><div class="col-sm-10"><input id="Id" name="Id" type="hidden" value="0"><input id="Name" name="Name" class="form-control" type="text" maxlength="50"></div></div><div class="form-group"><label class="col-sm-2 control-label">角色描述</label><div class="col-sm-10"><textarea id="Description" name="Description" class="form-control"></textarea></div></div><div class="alert alert-error" style="display:none;"></div></div></div><div class="modal-footer"><button type="button" class="btn btn-default" onclick="rolelist.closeDlg()">取消</button><button type="button" class="btn btn-primary" id="btnSubmit">确定</button></div></div><!-- /.modal-content --></div><!-- /.modal-dialog --></div><div style="display:none;" id="AllotPerBox" class="modal fade in"><div class="modal-dialog" style="width:777px;"><div class="modal-content"><div class="modal-header"><button type="button" onclick="rolelist.closeAllotPerBox()" class="close"><span aria-hidden="true">×</span></button><h4 id="title-type">分配权限</h4></div><div class="modal-body" style="height:666px; overflow-y:auto"><div class="form-horizontal m-t"><!--<div class="form-group">--><div class="table-responsive"><table class="table table-bordered table-striped"><thead><tr><th>模块名称</th><th>权限</th><th><div class="checkbox1 i-checks"><input type="hidden" id="RoleId" name="RoleId" value="0" /><input type="hidden" id="PermissionIds" name="PermissionIds" value="" /><input type="checkbox" id="chkAlls" name="chkAlls">全选</div></th></tr></thead><tbody id="tbody-mp"></tbody></table></div><!--</div>--></div></div><div class="modal-footer"><button type="button" class="btn btn-default" onclick="rolelist.closeAllotPerBox()">取消</button><button type="button" class="btn btn-primary" id="btnAllotPerSubmit">确定</button></div></div><!-- /.modal-content --></div><!-- /.modal-dialog --></div></div></div></div><input type="hidden" id="hidMenuSign" value="<!--MenuSignValue-->" /><!--right-cont end--></div><!--foot start--><div class="foot"><p>CopyRight &copy; 2017 edianlian.com, All Rights Reserved.</p></div><!--foot start--><!--bodyer end--><div style="display: none;" id="EditPwdModelDlg" class="modal fade in"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" onclick="closeDlg()" class="close"><span aria-hidden="true">×</span></button><h4 id="title-type">修改密码</h4></div><div class="modal-body"><div class="form-horizontal m-t"><div class="form-group"><label class="col-sm-2 control-label" style="width:18%;">原始密码</label><div class="col-sm-10" style="width:250px;"><input id="txtOldPwd" class="form-control" tabindex="1" maxlength="50" type="password"></div></div><div class="form-group"><label class="col-sm-2 control-label" style="width:18%;">新密码</label><div class="col-sm-10" style="width:250px;"><input id="txtNewPwd" class="form-control" tabindex="2" maxlength="50" type="password"></div></div><div class="form-group"><label class="col-sm-2 control-label" style="width:18%;">确认新密码</label><div class="col-sm-10" style="width:250px;"><input id="txtNewConfirmPwd" class="form-control" tabindex="3" maxlength="50" type="password"></div></div><div class="alert alert-error" style=""></div></div></div><div class="modal-footer" style="text-align:center;"><button type="button" class="btn btn-default" onclick="closeDlg()">取消</button><button type="button" class="btn btn-primary" onclick="editpwd()">确定</button></div></div><!-- /.modal-content --></div><!-- /.modal-dialog --></div></body></html>